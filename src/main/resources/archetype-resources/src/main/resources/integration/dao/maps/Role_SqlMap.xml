#set( $symbol_pound = '#' )
#set( $symbol_dollar = '$' )
#set( $symbol_escape = '\' )
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="role">

    <resultMap type="${package}.business.bo.Role" id="mapRole">
   		<result column="ID_ROLE" property="id" />
   		<result column="ROL_NOM" property="name" />
    </resultMap>


	<sql id="selectRole_fragment">
		SELECT
		ID_ROLE,
		ROL_NOM
		FROM ROLE
	</sql>

	<select id="selectByUserId" resultMap="mapRole">
		<include refid="selectRole_fragment" />
		WHERE ID_ROLE IN (SELECT ID_ROLE FROM ROLE_UTILISATEUR WHERE ID_UTILISATEUR= ${symbol_pound}{utiId});
	</select>


</mapper>